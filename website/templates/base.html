<!DOCTYPE html>
<html lang="{{ lang | default(value='en') }}" data-theme="light">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{% block title %}{{ config.title }}{% endblock %} — Reinhardt&#8482;</title>
	<meta name="description" content="{% block description %}{{ config.description }}{% endblock %}">
	<link rel="canonical" href="{{ current_url | safe }}">

	{# OGP #}
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Reinhardt&#8482;">
	<meta property="og:title" content="{% block og_title %}{{ config.title }}{% endblock %} — Reinhardt&#8482;">
	<meta property="og:description" content="{% block og_description %}{{ config.description }}{% endblock %}">
	<meta property="og:image" content="{{ config.extra.og_image }}">
	<meta property="og:url" content="{{ current_url | safe }}">
	<meta property="og:locale" content="en_US">

	{# Twitter Card #}
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="{% block twitter_title %}{{ config.title }}{% endblock %} — Reinhardt&#8482;">
	<meta name="twitter:description" content="{% block twitter_description %}{{ config.description }}{% endblock %}">
	<meta name="twitter:image" content="{{ config.extra.og_image }}">

	<link rel="sitemap" type="application/xml" href="/sitemap.xml">
	<link rel="stylesheet" href="/style.css">
</head>
<body>
	<a href="#main-content" class="skip-link">Skip to main content</a>

	<header class="site-header" role="banner">
		<nav class="nav-main" aria-label="Main navigation">
			<a class="nav-brand" href="/" aria-label="Reinhardt home">
				<img src="/logo.png" alt="" width="28" height="28" aria-hidden="true">
				<span>Reinhardt&#8482;</span>
			</a>
			<button class="hamburger" type="button"
							aria-expanded="false" aria-controls="nav-links"
							aria-label="Toggle navigation">
				<span class="hamburger-bar"></span>
				<span class="hamburger-bar"></span>
				<span class="hamburger-bar"></span>
			</button>
			<ul class="nav-links" id="nav-links" role="list">
				<li><a href="/docs/">Docs</a></li>
				<li><a href="/quickstart/">Quickstart</a></li>
				<li><a href="/changelog/">Changelog</a></li>
				<li>
					<a href="{{ config.extra.github_repo }}"
						 target="_blank" rel="noopener noreferrer"
						 aria-label="View on GitHub (opens in new tab)">
						GitHub ★
					</a>
				</li>
			</ul>
			<button id="theme-toggle" class="theme-toggle" type="button" aria-label="Toggle dark mode">
				<span aria-hidden="true">☾</span>
			</button>
		</nav>
	</header>

	<main id="main-content">
		{% block content %}{% endblock %}
	</main>

	<footer class="site-footer" role="contentinfo">
		<div class="footer-inner">
			<p class="footer-legal">
				&copy; 2025&ndash;2026 Reinhardt Contributors.
				Reinhardt&trade; is an unregistered trademark of the Reinhardt project contributors.
			</p>
			<p class="footer-disclaimer">
				This software is provided &ldquo;AS IS&rdquo;, without warranty of any kind,
				express or implied. Not affiliated with the Django Software Foundation,
				the FastAPI project, or any other referenced projects.
			</p>
			<p class="footer-security">
				Security:
				<a href="/security/">Report a vulnerability</a>
				&middot;
				<a href="{{ config.extra.github_repo }}/security/advisories/new"
					 target="_blank" rel="noopener noreferrer">
					GitHub Security Advisories
				</a>
			</p>
			<p class="footer-links">
				<a href="{{ config.extra.github_repo }}" target="_blank" rel="noopener noreferrer">GitHub</a>
				&middot;
				<a href="{{ config.extra.crates_io }}" target="_blank" rel="noopener noreferrer">crates.io</a>
				&middot;
				<a href="{{ config.extra.docs_rs }}" target="_blank" rel="noopener noreferrer">docs.rs</a>
				&middot;
				MIT / Apache-2.0
			</p>
		</div>
	</footer>

	<script>
		(function() {
			var toggle = document.getElementById('theme-toggle');
			var html = document.documentElement;
			var stored = localStorage.getItem('rw-theme');
			var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (stored === 'dark' || (!stored && prefersDark)) {
				html.setAttribute('data-theme', 'dark');
			}
			toggle.addEventListener('click', function() {
				var isDark = html.getAttribute('data-theme') === 'dark';
				html.setAttribute('data-theme', isDark ? 'light' : 'dark');
				localStorage.setItem('rw-theme', isDark ? 'light' : 'dark');
			});
		})();
	</script>
	<script>
		(function() {
			var btn = document.querySelector('.hamburger');
			var nav = document.getElementById('nav-links');
			if (!btn || !nav) return;
			btn.addEventListener('click', function() {
				var expanded = btn.getAttribute('aria-expanded') === 'true';
				btn.setAttribute('aria-expanded', String(!expanded));
				nav.classList.toggle('nav-open');
			});
			document.addEventListener('keydown', function(e) {
				if (e.key === 'Escape' && nav.classList.contains('nav-open')) {
					btn.setAttribute('aria-expanded', 'false');
					nav.classList.remove('nav-open');
					btn.focus();
				}
			});
			document.addEventListener('click', function(e) {
				if (!btn.contains(e.target) && !nav.contains(e.target)) {
					btn.setAttribute('aria-expanded', 'false');
					nav.classList.remove('nav-open');
				}
			});
		})();
	</script>
</body>
</html>
