{%- set data = load_data(url="https://crates.io/api/v1/crates/reinhardt-web", format="json", headers=["User-Agent=reinhardt-web-site (zola)"], required=false) -%}
{%- if data and data.crate -%}
{%- set version = data.crate.max_version -%}
{%- else -%}
{%- set version = config.extra.reinhardt_version -%}
{%- endif -%}
{%- set lang = args.lang | default(value="toml") -%}
{%- set replaced = body | replace(from="LATEST_VERSION", to=version) -%}
{%- set code = "```" ~ lang ~ "\n" ~ replaced ~ "\n```" -%}
{{ code | markdown | safe }}
