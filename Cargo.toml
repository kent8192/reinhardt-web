[workspace]
resolver = "3"
members = [
  # Core framework (always included)
  "crates/reinhardt",
  "crates/reinhardt-micro",
  "crates/reinhardt-apps",
  "crates/reinhardt-http",
  "crates/reinhardt-conf",
  "crates/reinhardt-conf/crates/settings",
  "crates/reinhardt-conf/crates/settings-cli",
  "crates/reinhardt-core",
  "crates/reinhardt-core/crates/types",
  "crates/reinhardt-core/crates/exception",
  "crates/reinhardt-core/crates/signals",
  "crates/reinhardt-core/crates/macros",
  "crates/reinhardt-core/crates/security",
  "crates/reinhardt-core/crates/validators",
  "crates/reinhardt-core/crates/backends",
  "crates/reinhardt-server",
  "crates/reinhardt-server/crates/server",
  "crates/reinhardt-views",
  "crates/reinhardt-views/crates/viewsets",
  "crates/reinhardt-views/crates/views-core",
  "crates/reinhardt-urls",
  "crates/reinhardt-urls/crates/routers",
  "crates/reinhardt-urls/crates/routers-macros",
  "crates/reinhardt-urls/crates/proxy",
  "crates/reinhardt-middleware",
  "crates/reinhardt-test",
  "crates/reinhardt-tasks",
  "crates/reinhardt-utils",
  "crates/reinhardt-utils/crates/logging",
  "crates/reinhardt-utils/crates/cache",
  "crates/reinhardt-utils/crates/storage",
  "crates/reinhardt-utils/crates/utils-core",
  "crates/reinhardt-rest",
  "crates/reinhardt-rest/crates/serializers",
  "crates/reinhardt-rest/crates/parsers",
  "crates/reinhardt-rest/crates/pagination",
  "crates/reinhardt-rest/crates/filters",
  "crates/reinhardt-rest/crates/throttling",
  "crates/reinhardt-rest/crates/versioning",
  "crates/reinhardt-rest/crates/metadata",
  "crates/reinhardt-rest/crates/negotiation",
  "crates/reinhardt-rest/crates/openapi",
  "crates/reinhardt-rest/crates/browsable-api",
  "crates/reinhardt-rest/crates/rest-core",
  "crates/reinhardt-contrib",
  "crates/reinhardt-contrib/crates/auth",
  "crates/reinhardt-contrib/crates/contenttypes",
  "crates/reinhardt-contrib/crates/sessions",
  "crates/reinhardt-contrib/crates/messages",
  "crates/reinhardt-contrib/crates/static",
  "crates/reinhardt-contrib/crates/mail",
  "crates/reinhardt-contrib/crates/graphql",
  "crates/reinhardt-contrib/crates/websockets",
  "crates/reinhardt-grpc",
  "crates/reinhardt-graphql-macros",
  "crates/reinhardt-contrib/crates/i18n",
  "crates/reinhardt-commands",
  "crates/reinhardt-admin",
  "crates/reinhardt-db",
  "crates/reinhardt-db/crates/orm",
  "crates/reinhardt-db/crates/migrations",
  "crates/reinhardt-db/crates/hybrid",
  "crates/reinhardt-db/crates/associations",
  "crates/reinhardt-db/crates/pool",
  "crates/reinhardt-db/crates/backends",
  "crates/reinhardt-db/crates/backends-pool",
  "crates/reinhardt-di",
  "crates/reinhardt-di/crates/params",
  "crates/reinhardt-di/crates/di",
  "crates/reinhardt-dispatch",
  "crates/reinhardt-shortcuts",
  # Optional features
  # "crates/reinhardt-admin/reinhardt-cli",  # reinhardt-admin not yet created
  "crates/reinhardt-forms",
  "crates/reinhardt-template",
  "crates/reinhardt-template/crates/templates",
  "crates/reinhardt-template/crates/templates-macros",
  "crates/reinhardt-template/crates/renderers",
  # Integration tests
  "tests",
]

exclude = []

default-members = [
  "crates/reinhardt",
  "crates/reinhardt-db/crates/orm",
  "crates/reinhardt-views",
  "crates/reinhardt-views/crates/viewsets",
  "crates/reinhardt-urls/crates/routers",
  "crates/reinhardt-middleware",
  "crates/reinhardt-db/crates/migrations",
  "crates/reinhardt-test",
  "crates/reinhardt-tasks",
  "crates/reinhardt-utils",
  "crates/reinhardt-rest",
  "crates/reinhardt-rest/crates/serializers",
  "crates/reinhardt-rest/crates/parsers",
  "crates/reinhardt-rest/crates/pagination",
  "crates/reinhardt-rest/crates/filters",
  "crates/reinhardt-rest/crates/throttling",
  "crates/reinhardt-rest/crates/versioning",
  "crates/reinhardt-rest/crates/metadata",
  "crates/reinhardt-rest/crates/negotiation",
  "crates/reinhardt-contrib",
]

[workspace.package]
version = "0.1.0"
edition = "2024"
license = "MIT OR Apache-2.0"
repository = "https://github.com/kent8192/reinhardt"
authors = ["kent8192 <51869472+kent8192@users.noreply.github.com>"]

[workspace.dependencies]
# Internal crates
reinhardt-micro = { path = "crates/reinhardt-micro", version = "0.1.0" }
reinhardt-apps = { path = "crates/reinhardt-apps", version = "0.1.0" }
reinhardt-http = { path = "crates/reinhardt-http", version = "0.1.0" }
reinhardt-conf = { path = "crates/reinhardt-conf", version = "0.1.0" }
reinhardt-settings = { path = "crates/reinhardt-conf/crates/settings", version = "0.1.0" }
reinhardt-settings-cli = { path = "crates/reinhardt-conf/crates/settings-cli", version = "0.1.0" }
reinhardt-core = { path = "crates/reinhardt-core", version = "0.1.0" }
reinhardt-types = { path = "crates/reinhardt-core/crates/types", version = "0.1.0" }
reinhardt-exception = { path = "crates/reinhardt-core/crates/exception", version = "0.1.0" }
reinhardt-signals = { path = "crates/reinhardt-core/crates/signals", version = "0.1.0" }
reinhardt-macros = { path = "crates/reinhardt-core/crates/macros", version = "0.1.0" }
reinhardt-security = { path = "crates/reinhardt-core/crates/security", version = "0.1.0" }
reinhardt-validators = { path = "crates/reinhardt-core/crates/validators", version = "0.1.0" }
reinhardt-server = { path = "crates/reinhardt-server", version = "0.1.0" }
reinhardt-orm = { path = "crates/reinhardt-db/crates/orm", version = "0.1.0" }
reinhardt-serializers = { path = "crates/reinhardt-rest/crates/serializers", version = "0.1.0" }
reinhardt-views = { path = "crates/reinhardt-views", version = "0.1.0" }
reinhardt-viewsets = { path = "crates/reinhardt-views/crates/viewsets", version = "0.1.0" }
reinhardt-urls = { path = "crates/reinhardt-urls", version = "0.1.0" }
reinhardt-routers = { path = "crates/reinhardt-urls/crates/routers", version = "0.1.0" }
reinhardt-routers-macros = { path = "crates/reinhardt-urls/crates/routers-macros", version = "0.1.0" }
reinhardt-middleware = { path = "crates/reinhardt-middleware", version = "0.1.0" }
reinhardt-pagination = { path = "crates/reinhardt-rest/crates/pagination", version = "0.1.0" }
reinhardt-filters = { path = "crates/reinhardt-rest/crates/filters", version = "0.1.0" }
reinhardt-throttling = { path = "crates/reinhardt-rest/crates/throttling", version = "0.1.0" }
reinhardt-parsers = { path = "crates/reinhardt-rest/crates/parsers", version = "0.1.0" }
reinhardt-renderers = { path = "crates/reinhardt-template/crates/renderers", version = "0.1.0" }
reinhardt-migrations = { path = "crates/reinhardt-db/crates/migrations", version = "0.1.0" }
reinhardt-template = { path = "crates/reinhardt-template", version = "0.1.0" }
reinhardt-templates = { path = "crates/reinhardt-template/crates/templates", version = "0.1.0" }
reinhardt-templates-macros = { path = "crates/reinhardt-template/crates/templates-macros", version = "0.1.0" }
reinhardt-versioning = { path = "crates/reinhardt-rest/crates/versioning", version = "0.1.0" }
reinhardt-metadata = { path = "crates/reinhardt-rest/crates/metadata", version = "0.1.0" }
reinhardt-cache = { path = "crates/reinhardt-utils/crates/cache", version = "0.1.0" }
reinhardt-forms = { path = "crates/reinhardt-forms", version = "0.1.0" }
reinhardt-test = { path = "crates/reinhardt-test", version = "0.1.0" }
reinhardt-proxy = { path = "crates/reinhardt-urls/crates/proxy", version = "0.1.0" }
reinhardt-tasks = { path = "crates/reinhardt-tasks", version = "0.1.0" }
reinhardt-utils = { path = "crates/reinhardt-utils", version = "0.1.0" }
reinhardt-rest = { path = "crates/reinhardt-rest", version = "0.1.0" }
reinhardt-contrib = { path = "crates/reinhardt-contrib", version = "0.1.0" }
reinhardt-auth = { path = "crates/reinhardt-contrib/crates/auth", version = "0.1.0" }
reinhardt-contenttypes = { path = "crates/reinhardt-contrib/crates/contenttypes", version = "0.1.0" }
reinhardt-sessions = { path = "crates/reinhardt-contrib/crates/sessions", version = "0.1.0" }
reinhardt-messages = { path = "crates/reinhardt-contrib/crates/messages", version = "0.1.0" }
reinhardt-static = { path = "crates/reinhardt-contrib/crates/static", version = "0.1.0" }
reinhardt-mail = { path = "crates/reinhardt-contrib/crates/mail", version = "0.1.0" }
reinhardt-graphql = { path = "crates/reinhardt-contrib/crates/graphql", version = "0.1.0" }
reinhardt-websockets = { path = "crates/reinhardt-contrib/crates/websockets", version = "0.1.0" }
reinhardt-grpc = { path = "crates/reinhardt-grpc", version = "0.1.0" }
reinhardt-graphql-macros = { path = "crates/reinhardt-graphql-macros", version = "0.1.0" }
reinhardt-i18n = { path = "crates/reinhardt-contrib/crates/i18n", version = "0.1.0" }
reinhardt-commands = { path = "crates/reinhardt-commands", version = "0.1.0" }
reinhardt-admin = { path = "crates/reinhardt-admin", version = "0.1.0" }
reinhardt-db = { path = "crates/reinhardt-db", version = "0.1.0" }
reinhardt-pool = { path = "crates/reinhardt-db/crates/pool", version = "0.1.0" }
reinhardt-postgres = { path = "crates/reinhardt-postgres", version = "0.1.0" }
reinhardt-events = { path = "crates/reinhardt-events", version = "0.1.0" }
reinhardt-hybrid = { path = "crates/reinhardt-db/crates/hybrid", version = "0.1.0" }
reinhardt-associations = { path = "crates/reinhardt-db/crates/associations", version = "0.1.0" }
reinhardt-storage = { path = "crates/reinhardt-utils/crates/storage", version = "0.1.0" }
reinhardt-utils-core = { path = "crates/reinhardt-utils/crates/utils-core", version = "0.1.0" }
reinhardt-negotiation = { path = "crates/reinhardt-rest/crates/negotiation", version = "0.1.0" }
reinhardt-logging = { path = "crates/reinhardt-utils/crates/logging", version = "0.1.0" }
reinhardt-params = { path = "crates/reinhardt-di/crates/params", version = "0.1.0" }
reinhardt-di = { path = "crates/reinhardt-di", version = "0.1.0" }
reinhardt-shortcuts = { path = "crates/reinhardt-shortcuts", version = "0.1.0" }
reinhardt-dispatch = { path = "crates/reinhardt-dispatch", version = "0.1.0" }
reinhardt-browsable-api = { path = "crates/reinhardt-rest/crates/browsable-api", version = "0.1.0" }

# Web framework
tokio = { version = "1.48.0", features = ["full"] }
tokio-stream = "0.1.17"
futures = "0.3.31"
hyper = { version = "1.7.0", features = ["full"] }
hyper-util = { version = "0.1.17", features = ["full"] }
http = "1.3.1"
http-body-util = "0.1.3"

# Serialization
serde = { version = "1.0.228", features = ["derive"] }
serde_json = "1.0.145"
serde_yaml = "0.9"

# Database
sqlx = { version = "0.9.0-alpha.1", features = [
  "runtime-tokio",
  "tls-rustls",
  "sqlite",
  "postgres",
  "mysql",
  "any",
  "macros",
  "migrate",
] }

# Authentication & Security
argon2 = { version = "0.6.0-rc.1", features = ["std"] }
rand = "0.10.0-rc.0"
jsonwebtoken = { version = "10.1.0", features = ["aws_lc_rs"] }
uuid = { version = "1.18.1", features = ["v4", "serde"] }

# Async traits
async-trait = "0.1.89"

# Error handling
thiserror = "2.0.17"
anyhow = "1.0.100"

# Routing
regex = "1.12.2"
nom = "8.0.0"

# Utilities
chrono = { version = "0.4.42", features = ["serde"] }
chrono-tz = "0.10.4"
bytes = "1.10.1"
once_cell = "1.21.3"
tracing = "0.1.41"

# Template engine & syntax highlighting
askama = { version = "0.12", features = ["with-hyper"] }
syntect = "5.2"

# Cryptography & Security
aes-gcm = "0.11.0-rc.1"
sha2 = "0.11.0-rc.2"

# Image Processing
image = "0.25.8"

# Compression
flate2 = "1.1.5"
brotli = "8.0.2"

# Phone Number Validation
phonenumber = "0.3.7+8.13.52"

# Serialization formats
rmp-serde = "1.3.0"
prost = "0.13"

# Redis (for sessions)
redis = { version = "1.0.0-rc.2", features = [
  "tokio-comp",
  "connection-manager",
] }

# Connection pooling & migrations
refinery = { version = "0.9.0", features = ["tokio-postgres"] }
sea-query = "1.0.0-rc.1"
sea-query-sqlx = { version = "0.8.0-rc.9", features = ["sqlx-postgres", "sqlx-mysql", "sqlx-sqlite"] }

# Testing
testcontainers = "0.25.0"
testcontainers-modules = { version = "0.13.0", features = [
  "postgres",
  "mysql",
  "redis",
] }
proptest = "1.8.0"
tokio-test = "0.4.4"
serial_test = "3.2.0"
