[package]
name = "reinhardt-throttling"
version = "0.1.0"
edition = "2024"
license = "MIT OR Apache-2.0"
description = "Rate limiting for Reinhardt framework"
repository.workspace = true

[dependencies]
reinhardt-apps = { workspace = true }
reinhardt-di = { workspace = true }
async-trait = "0.1"
tokio = { version = "1.0", features = ["sync", "time"] }
redis = { version = "0.24", features = [
  "tokio-comp",
  "connection-manager",
], optional = true }
thiserror = "1.0"
parking_lot = "0.12"
memcache-async = { version = "0.9", optional = true }
bb8 = { version = "0.8", optional = true }
bb8-memcached = { version = "0.7", optional = true }
maxminddb = { version = "0.24", optional = true }

[features]
default = []
redis-backend = ["redis"]
memcached-backend = ["memcache-async", "bb8", "bb8-memcached"]
geo-limiting = ["maxminddb"]

[dev-dependencies]
tokio = { version = "1.0", features = ["full", "test-util"] }
tokio-test = { workspace = true }
