[package]
name = "reinhardt-payment"
version = "0.1.0"
authors = ["Reinhardt Contributors"]
edition = "2024"
description = "Payment abstraction layer with Stripe and BasisTheory integration"
license = "MIT OR Apache-2.0"
repository = "https://github.com/kent8192/reinhardt-web"
keywords = ["payment", "stripe", "basistheory", "pci", "async"]
categories = ["web-programming", "api-bindings", "asynchronous"]

[dependencies]
# Stripe integration
async-stripe = { version = "0.40", features = ["runtime-tokio-hyper"] }

# Async support
async-trait = "0.1"
tokio = { version = "1.0", features = ["full"] }

# HTTP client for BasisTheory
reqwest = { version = "0.12", features = ["json"] }

# Serialization
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# Date/time handling
chrono = { version = "0.4", features = ["serde"] }

# Cryptography for webhook verification
hmac = "0.12"
sha2 = "0.10"
hex = "0.4"

# Error handling
thiserror = "2.0"

# Idempotency key generation
uuid = { version = "1.0", features = ["v4", "serde"] }

# Constant-time comparison for security
subtle = "2.5"

# Random number generation for retry jitter
rand = "0.8"

[dev-dependencies]
# Property-based testing
proptest = "1.0"

# Parameterized testing
rstest = "0.24"

# Reinhardt testing infrastructure
reinhardt-test = { path = "../reinhardt-test" }

[features]
default = []

[lints]
workspace = true
