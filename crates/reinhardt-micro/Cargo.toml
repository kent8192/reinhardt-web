[package]
name = "reinhardt-micro"
version.workspace = true
edition.workspace = true
license.workspace = true
description = "A lightweight microservice framework for Rust - minimal subset of Reinhardt"
repository.workspace = true
authors.workspace = true

[features]
default = [
  "routing",
  "di",
  "params",
] # TODO: "schema" temporarily disabled - utoipa API compatibility
routing = ["reinhardt-urls"]
di = ["reinhardt-di"]
params = ["di", "reinhardt-di/params"]
# schema = ["reinhardt-openapi"]  # TODO: Temporarily disabled - utoipa API compatibility
database = ["reinhardt-db"]
compression = []
cors = []
rate-limit = []
security = []
full = [
  "routing",
  "di",
  "params",
  "database",
  "compression",
  "cors",
  "rate-limit",
  "security",
]

[dependencies]
# Core framework
reinhardt-urls = { workspace = true, features = ["routers"], optional = true }
reinhardt-middleware = { workspace = true }
reinhardt-http = { workspace = true }
# reinhardt-openapi = { workspace = true, optional = true }  # Temporarily disabled
reinhardt-db = { workspace = true, features = ["orm"], optional = true }
reinhardt-di = { workspace = true, optional = true }
reinhardt-server = { workspace = true }
reinhardt-core = { workspace = true, features = ["types", "macros"] }

# Web framework essentials
tokio = { workspace = true }
hyper = { workspace = true }
hyper-util = { workspace = true }
http-body-util = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
serde_urlencoded = { workspace = true }
async-trait = { workspace = true }
thiserror = { workspace = true }
bytes = { workspace = true }

[dev-dependencies]
reinhardt-test = { workspace = true }
tokio-test = "0.4"
