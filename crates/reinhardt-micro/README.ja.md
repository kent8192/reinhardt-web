# Reinhardt Micro

ã‚·ãƒ³ãƒ—ãƒ«ãªAPIã‚„ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã€Reinhardtã®æœ€å°é™ã®ã‚µãƒ–ã‚»ãƒƒãƒˆã‚’æä¾›ã™ã‚‹è»½é‡ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚

## ãªãœReinhardt Microãªã®ã‹?

Djangoã¯ã€Œãƒãƒƒãƒ†ãƒªãƒ¼ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰ã€ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€ãã‚Œã«ã¯ä»£å„ŸãŒã‚ã‚Šã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªã‚µãƒ¼ãƒ“ã‚¹ãŒä¸è¦ãªè¤‡é›‘ã•ã¨ä¾å­˜é–¢ä¿‚ã‚’æŠ±ãˆã¦ã—ã¾ã†ã®ã§ã™ã€‚Reinhardt Microã¯ã€ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹**æœ€å°é™ã§æ§‹æˆå¯èƒ½ãª**ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æä¾›ã™ã‚‹ã“ã¨ã§ã€ã“ã®å•é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚

## æ©Ÿèƒ½

### å®Ÿè£…æ¸ˆã¿ âœ“

- ğŸª¶ **è»½é‡** - æœ€å°é™ã®ä¾å­˜é–¢ä¿‚ (87è¡Œã®ã‚³ãƒ¼ãƒ‰)ã€é«˜é€Ÿãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ« (~10ç§’)ã€å°ã•ãªãƒã‚¤ãƒŠãƒª (~5-10 MB)
- ğŸš€ **é«˜é€Ÿ** - Tokioã¨Hyperã‚’ãƒ™ãƒ¼ã‚¹ã«ã€æœ€åˆã‹ã‚‰éåŒæœŸå¯¾å¿œ
- ğŸ”’ **å‹å®‰å…¨** - Pathã€Queryã€Jsonã‚¨ã‚¯ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å‚™ãˆãŸå®Œå…¨ãªRustå‹ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ¯ **é›†ä¸­** - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° (`App`ã€`route`)ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡º (`reinhardt-params`)ã€DI (`reinhardt-di`) ã®ã¿
- ğŸ“¦ **æ§‹æˆå¯èƒ½** - æ®µéšçš„ãªå°å…¥ã®ãŸã‚ã®ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚° (`routing`ã€`params`ã€`di`ã€`schema`ã€`database`)
- **Appãƒ“ãƒ«ãƒ€ãƒ¼API** - ã‚·ãƒ³ãƒ—ãƒ«ãª `App::new().route().serve()` ãƒ‘ã‚¿ãƒ¼ãƒ³
- **ãƒãƒ³ãƒ‰ãƒ©ãƒ¼çµ±åˆ** - ã‚ã‚‰ã‚†ã‚‹ `Handler` ãƒˆãƒ¬ã‚¤ãƒˆå®Ÿè£…ã¨é€£æº
- **é–¢æ•°ãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒã‚¯ãƒ­** - FastAPIã‚¹ã‚¿ã‚¤ãƒ«ã® `#[get]`ã€`#[post]`ã€`#[put]`ã€`#[patch]`ã€`#[delete]` ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿
- **çµ„ã¿è¾¼ã¿ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ** - ä¸€èˆ¬çš„ãªãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ (CORSã€CSRFã€åœ§ç¸®ã€ãƒ­ã‚®ãƒ³ã‚°ãªã©) ã®ã‚¯ã‚¤ãƒƒã‚¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

### äºˆå®š

- ã‚ˆã‚Šå¤šãã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢è¨­å®šãƒ˜ãƒ«ãƒ‘ãƒ¼
- è¿½åŠ ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

`Cargo.toml`ã«Reinhardt Microã‚’è¿½åŠ :

```toml
[dependencies]
reinhardt-micro = "0.1.0"
tokio = { version = "1", features = ["full"] }
```

### ä¾‹1: ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒã‚¯ãƒ­ã‚’ä½¿ã£ãŸåŸºæœ¬çš„ãªAPI

```rust
use reinhardt_micro::prelude::*;

#[tokio::main]
async fn main() {
    let app = App::new()
        .route("/", hello)
        .route("/users/:id", get_user)
        .route("/users", create_user);

    app.serve("127.0.0.1:8000").await.unwrap();
}

async fn hello() -> &'static str {
    "Hello, World!"
}

#[get("/users/:id")]
async fn get_user(Path(id): Path<u64>) -> String {
    format!("User ID: {}", id)
}

#[derive(Deserialize)]
struct CreateUser {
    name: String,
    email: String,
}

#[post("/users")]
async fn create_user(Json(user): Json<CreateUser>) -> String {
    format!("Created user: {}", user.name)
}
```

### ä¾‹2: ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½¿ç”¨

```rust
use reinhardt_micro::prelude::*;
use reinhardt_micro::middleware::*;

#[tokio::main]
async fn main() {
    let app = App::new()
        .middleware(CorsMiddleware::permissive())
        .middleware(LoggingMiddleware::new())
        .middleware(GZipMiddleware::new())
        .route("/api/users", list_users);

    app.serve("127.0.0.1:8000").await.unwrap();
}

#[get("/api/users")]
async fn list_users() -> &'static str {
    "[{\"id\": 1, \"name\": \"Alice\"}]"
}
```

## ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚°

Reinhardt Microã¯ã€ã‚³ã‚¢ã‚’è»½é‡ã«ä¿ã¤ãŸã‚ã«ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚°ã‚’ä½¿ç”¨ã—ã¾ã™:

```toml
[dependencies]
reinhardt-micro = { version = "0.1.0", default-features = false, features = ["routing", "params"] }
```

åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½:

- `routing` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ): åŸºæœ¬çš„ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½
- `params` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ): å‹å®‰å…¨ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡º (Pathã€Queryã€Jsonãªã©)
- `di` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ): ä¾å­˜æ€§æ³¨å…¥ã‚·ã‚¹ãƒ†ãƒ 
- `schema` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ): OpenAPIã‚¹ã‚­ãƒ¼ãƒç”Ÿæˆ
- `database`: ORMçµ±åˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

## ãƒ•ãƒ«Reinhardtã¨ã®æ¯”è¼ƒ

| æ©Ÿèƒ½                 | Reinhardt Micro | Reinhardt (Standard) | Reinhardt (Full) |
|----------------------|-----------------|----------------------|------------------|
| ãƒã‚¤ãƒŠãƒªã‚µã‚¤ã‚º       | ~5-10 MB        | ~20-30 MB            | ~50+ MB          |
| ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–“       | é«˜é€Ÿ            | ä¸­ç¨‹åº¦               | ä½é€Ÿ             |
| ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°         | âœ…               | âœ…                    | âœ…                |
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡º       | âœ…               | âœ…                    | âœ…                |
| ä¾å­˜æ€§æ³¨å…¥           | âœ…               | âœ…                    | âœ…                |
| ORM                  | ã‚ªãƒ—ã‚·ãƒ§ãƒ³       | âœ…                    | âœ…                |
| ç®¡ç†ç”»é¢             | âŒ               | âŒ                    | âœ…                |
| èªè¨¼                 | âŒ               | âœ…                    | âœ…                |
| ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³     | âŒ               | âœ…                    | âœ…                |
| ãƒ•ã‚©ãƒ¼ãƒ              | âŒ               | âŒ                    | âœ…                |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ         | âŒ               | âŒ                    | âœ…                |

## ä½¿ç”¨ã‚·ãƒ¼ãƒ³

**Reinhardt Microã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ:**

- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚„ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹é–¢æ•°ã®æ§‹ç¯‰
- é«˜é€Ÿãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨å°ã•ãªãƒã‚¤ãƒŠãƒªãŒå¿…è¦
- ã‚¯ãƒ©ã‚¹ãƒ™ãƒ¼ã‚¹ã®ãƒ“ãƒ¥ãƒ¼ã‚ˆã‚Šã‚‚é–¢æ•°ãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å¥½ã‚€
- æ®µéšçš„ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã—ãŸã„

**ãƒ•ãƒ«Reinhardtã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ:**

- ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰
- Djangoã‚¹ã‚¿ã‚¤ãƒ«ã®ç®¡ç†ç”»é¢ã¨ORMãŒå¿…è¦
- æœ€åˆã‹ã‚‰å…¨ã¦ã®æ©Ÿèƒ½ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒæ¬²ã—ã„

## ç§»è¡Œãƒ‘ã‚¹

Reinhardt Microã‹ã‚‰å§‹ã‚ã¦ã€ãƒ‹ãƒ¼ã‚ºã®æˆé•·ã«åˆã‚ã›ã¦ãƒ•ãƒ«Reinhardtã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰:

```toml
# Microã‹ã‚‰é–‹å§‹
[dependencies]
reinhardt-micro = "0.1.0"

# Standardã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
[dependencies]
reinhardt = { version = "0.1.0", default-features = false, features = ["minimal"] }

# ãƒ•ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
[dependencies]
reinhardt = "0.1.0"  # ã¾ãŸã¯ features = ["full"]
```

## ã‚µãƒ³ãƒ—ãƒ«

è©³ç´°ãªã‚µãƒ³ãƒ—ãƒ«ã¯[examplesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª](examples/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„:

- ã‚·ãƒ³ãƒ—ãƒ«ãªREST API
- JSON CRUDæ“ä½œ
- ä¾å­˜æ€§æ³¨å…¥
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹çµ±åˆ

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã¾ã™:

- Apache License, Version 2.0 ([LICENSE-APACHE](../../LICENSE-APACHE))
- MIT license ([LICENSE-MIT](../../LICENSE-MIT))

ãŠå¥½ããªæ–¹ã‚’ãŠé¸ã³ãã ã•ã„ã€‚
