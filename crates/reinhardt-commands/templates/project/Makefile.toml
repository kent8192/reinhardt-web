# Reinhardt Project Management Tasks
# Use with cargo-make: https://github.com/sagiegurari/cargo-make
#
# Installation: cargo install cargo-make
# Usage: cargo make <task>

[tasks.makemigrations]
description = "Create new migrations based on model changes"
command = "cargo"
args = ["run", "--bin", "manage", "makemigrations", "${@}"]

[tasks.migrate]
description = "Apply database migrations"
command = "cargo"
args = ["run", "--bin", "manage", "migrate", "${@}"]

[tasks.createsuperuser]
description = "Create a superuser account"
command = "cargo"
args = ["run", "--bin", "manage", "createsuperuser", "${@}"]

[tasks.runserver]
description = "Start the development server"
command = "cargo"
args = ["run", "--bin", "manage", "runserver", "${@}"]

[tasks.shell]
description = "Run an interactive Rust shell"
command = "cargo"
args = ["run", "--bin", "manage", "shell", "${@}"]

[tasks.check]
description = "Check the project for issues"
command = "cargo"
args = ["run", "--bin", "manage", "check", "${@}"]

[tasks.showmigrations]
description = "Show all available migrations"
command = "cargo"
args = ["run", "--bin", "manage", "showmigrations", "${@}"]

[tasks.test]
description = "Run project tests"
command = "cargo"
args = ["test"]

[tasks.build]
description = "Build the project"
command = "cargo"
args = ["build"]

[tasks.build-release]
description = "Build the project in release mode"
command = "cargo"
args = ["build", "--release"]

[tasks.dev]
description = "Run migrations and start development server"
dependencies = ["migrate", "runserver"]
