[package]
name = "reinhardt-whitenoise"
version = "0.1.0"
edition = "2024"
authors = ["Reinhardt Contributors"]
description = "WhiteNoise-style static file optimization for Reinhardt"
license = "MIT OR Apache-2.0"
repository = "https://github.com/kent8192/reinhardt-web"
documentation = "https://docs.rs/reinhardt-whitenoise"
readme = "README.md"
keywords = ["web", "framework", "static", "compression", "whitenoise"]
categories = ["web-programming", "compression"]

[dependencies]
# Workspace dependencies
reinhardt-utils = { path = "../reinhardt-utils" }
reinhardt-http = { path = "../reinhardt-http" }
reinhardt-middleware = { path = "../reinhardt-middleware" }

# External dependencies
tokio = { version = "1.42", features = ["fs", "rt", "macros"] }
walkdir = "2.5"
mime_guess = "2.0"
regex = "1.11"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
thiserror = "2.0"
log = "0.4"

# Compression (feature-gated)
flate2 = { version = "1.0", optional = true }
brotli = { version = "7.0", optional = true }
md5 = { version = "0.7", optional = true }

[dev-dependencies]
reinhardt-test = { path = "../reinhardt-test" }
tokio = { version = "1.42", features = ["full"] }
tempfile = "3.14"
rstest = "0.24"
criterion = "0.6"

[features]
default = ["compression"]
compression = ["flate2", "brotli", "md5"]
dev-server = ["autorefresh"]
autorefresh = []
