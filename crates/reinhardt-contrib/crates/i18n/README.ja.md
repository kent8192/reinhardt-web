# reinhardt-i18n

Djangoのi18nフレームワークにインスパイアされた、Reinhardt用の国際化およびローカライゼーションサポート

## 概要

Django形式のgettext APIを使用して、アプリケーションを複数の言語に翻訳するためのフレームワークです。

## 機能

### 実装済み ✓

#### メッセージ翻訳

- **シンプル翻訳** (`gettext`): フォールバックサポート付きの基本的なメッセージ翻訳
- **遅延翻訳** (`gettext_lazy`): コンパイル時定義のための遅延評価翻訳
- **フォールバックメカニズム**: 翻訳が見つからない場合のデフォルトロケールへの自動フォールバック

#### 複数形サポート

- **複数形翻訳** (`ngettext`): 言語に応じた複数形の処理
- **遅延複数形翻訳** (`ngettext_lazy`): 遅延評価による複数形翻訳
- **複数形ルール**: カウントに基づいた複数形インデックス計算の設定可能化

#### コンテキスト対応翻訳

- **コンテキスト翻訳** (`pgettext`): コンテキストによる翻訳の曖昧さ解消（例: メニューとしての"File"と動詞としての"File"）
- **コンテキスト複数形翻訳** (`npgettext`): コンテキスト対応の複数形処理

#### メッセージカタログ管理

- **MessageCatalog**: ロケールごとの翻訳をメモリ内に保存
- **シンプル翻訳**: キー・バリュー形式の翻訳ペア
- **複数形翻訳**: メッセージごとの複数の複数形
- **コンテキスト翻訳**: コンテキストベースのメッセージの曖昧さ解消
- **コンテキスト複数形翻訳**: コンテキストと複数形の組み合わせサポート

#### ロケール管理

- **ロケールの有効化** (`activate`): 関連付けられたカタログでアクティブなロケールを設定
- **ロケールの無効化** (`deactivate`): デフォルトの英語ロケールに戻す
- **ロケールの照会** (`get_locale`): 現在アクティブなロケールを取得
- **スレッドセーフな状態**: RwLock同期によるグローバル翻訳状態

#### 遅延評価

- **LazyString**: 遅延翻訳評価
- **Displayトレイト**: 表示時の自動評価
- **文字列変換**: String型へのシームレスな変換
- **複数形サポート**: 複数形翻訳の遅延評価
- **コンテキストサポート**: コンテキスト翻訳の遅延評価

### 予定

現在、すべての予定機能は実装済みです。
