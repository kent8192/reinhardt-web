[package]
publish = false
name = "reinhardt-contenttypes"
version = "0.1.0-alpha.1"
edition = "2024"
license = "MIT OR Apache-2.0"
description = "Django-style content types framework for polymorphic relationships in Reinhardt"
repository.workspace = true

[features]
default = []
database = ["sqlx", "sea-query", "async-trait", "thiserror", "parking_lot"]

[dependencies]
serde = { version = "1.0", features = ["derive"] }
once_cell = "1.19"

# Optional database dependencies
sqlx = { workspace = true, features = ["sqlite", "any", "runtime-tokio", "tls-rustls"], optional = true }
sea-query = { workspace = true, optional = true }
async-trait = { workspace = true, optional = true }
thiserror = { workspace = true, optional = true }
parking_lot = { workspace = true, optional = true }

[dev-dependencies]
tokio = { version = "1", features = ["full", "test-util"] }
serde_json = "1.0"
rstest = { workspace = true }
serial_test = { workspace = true }
testcontainers = { workspace = true }
testcontainers-modules = { workspace = true }
sqlx = { workspace = true, features = ["postgres"] }
sea-query = { workspace = true }
reinhardt-test = { workspace = true, features = ["testcontainers"] }
