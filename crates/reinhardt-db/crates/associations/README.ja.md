# reinhardt-associations

モデルの関連付けとリレーションシップ

## 概要

関連付けを通じて関連オブジェクトへのアクセスを簡素化するためのSQLAlchemy風の関連付けプロキシを提供します。このクレートは、手動での走査なしに関連オブジェクトの属性への優雅で型安全なアクセスを可能にします。

## 機能

### 実装済み ✓

#### 関連付けプロキシ（`AssociationProxy<S, A, T>`）

- **単一オブジェクト属性アクセス**: 外部キーと1対1のリレーションシップを通じて関連オブジェクトの属性にアクセス
- **型安全プロキシ**: 関連付けチェーンのコンパイル時型チェック
- **ジェネリック実装**: 任意のソースタイプ、関連付けタイプ、ターゲット属性タイプで動作
- **主要メソッド**:
  - `new()`: カスタムゲッター関数で新しい関連付けプロキシを作成
  - `get()`: 関連付けを通じてターゲット属性を取得

#### 関連付けコレクション（`AssociationCollection<S, C, T>`）

- **コレクション属性アクセス**: 1対多と多対多のリレーションシップを通じてコレクション内のアイテムの属性にアクセス
- **バッチ操作**: コレクションからすべてのターゲット属性を一度に取得
- **コレクションユーティリティ**: コレクションのカウントと空チェック
- **主要メソッド**:
  - `new()`: カスタムゲッター関数で新しい関連付けコレクションプロキシを作成
  - `get_all()`: コレクションからすべてのターゲット属性を取得
  - `count()`: コレクション内のアイテム数をカウント
  - `is_empty()`: コレクションが空かチェック

#### Preludeモジュール

- 便利なインポートのために一般的に使用されるタイプを再エクスポート

### 予定

以下の機能は将来の実装を予定しています:

- **リレーションシップ設定**: 1対1、1対多（外部キー）、多対多のリレーションシップ定義
- **逆リレーションシップアクセス**: 自動逆アクセサー生成
- **関連名のカスタマイズ**: 逆リレーションシップのカスタム命名
- **ロード戦略**: 遅延ロードと先行ロードのサポート
- **カスケード操作**: カスケード削除と更新のオプション
- **多態的関連付け**: 多態的リレーションシップのサポート
