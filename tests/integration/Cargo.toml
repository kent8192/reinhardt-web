[package]
name = "reinhardt-integration-tests"
version = "0.1.0-alpha.1"
edition = "2021"
publish = false
autotests = true

[dependencies]
# Main reinhardt facade crate for proc macro path resolution.
# Proc macros generate code with absolute paths like ::reinhardt::db::orm::Model
# This dependency makes those paths resolvable in test files.
reinhardt = { workspace = true, features = ["full"] }

# Reinhardt crates
reinhardt-apps = { workspace = true }
reinhardt-core = { workspace = true, features = ["exception", "messages", "negotiation", "pagination", "parsers", "security", "signals", "types", "validators"] }
reinhardt-auth = { workspace = true, features = [
  "argon2-hasher",
  "jwt",
  "sessions",
  "token",
  "oauth",
  "database",
  "redis-sessions",
  "rate-limit",
] }
reinhardt-http = { workspace = true, features = ["messages"] }
reinhardt-di = { workspace = true, features = ["macros", "params"] }
reinhardt-middleware = { workspace = true }
reinhardt-graphql = { workspace = true, features = ["full"] }
reinhardt-grpc = { workspace = true }
reinhardt-db = { workspace = true, features = ["backends", "contenttypes", "migrations", "orm", "mongodb", "nosql"] }
reinhardt-db-macros = { workspace = true }
reinhardt-websockets = { workspace = true, features = ["redis-channel"] }
reinhardt-server = { workspace = true, features = ["websocket"] }
reinhardt-mail = { workspace = true }
reinhardt-macros = { workspace = true }
reinhardt-views = { workspace = true, features = ["viewsets"]}
reinhardt-i18n = { workspace = true }
reinhardt-tasks = { workspace = true, features = [
  "redis-backend",
  "rabbitmq-backend",
] }
reinhardt-rest = { workspace = true, features = ["browsable-api", "filters", "metadata", "openapi", "serializers", "throttling", "versioning"]}
reinhardt-throttling = { workspace = true }
reinhardt-shortcuts = { workspace = true, features = ["database"] }
reinhardt-forms = { workspace = true }
reinhardt-utils = { workspace = true, features = ["cache", "logging", "staticfiles", "storage", "memcached-backend", "redis-backend", "redis-sentinel"] }
reinhardt-test = { workspace = true, features = ["testcontainers"] }
reinhardt-urls = { workspace = true }
reinhardt-conf = { workspace = true }
reinhardt-pages = { workspace = true }
reinhardt-commands = { workspace = true }

# HTTP primitives (used in lib.rs make_request helpers)
bytes = { workspace = true }
http = { workspace = true }
hyper = { workspace = true }
reqwest = { workspace = true, features = ["multipart"] }

# Database pool (used in lib.rs, validator_test_common.rs)
sqlx = { workspace = true }

# Async runtime
tokio = { workspace = true, features = ["full"] }

# Serialization
bson = { version = "3.0", features = ["serde"] }
mongodb = { version = "3.0", features = ["bson-3"] }
serde = { workspace = true, features = ["derive"] }
serde_json = { workspace = true }

# Template engine
tera = { workspace = true }

# Testing framework
rstest = { workspace = true }
serial_test = { workspace = true }
testcontainers = { workspace = true }
testcontainers-modules = { workspace = true }

# Required by #[model] macro
ctor = { workspace = true }

# Async traits (used in migration_duplicate.rs)
async-trait = { workspace = true }

# Temp files (used in migration_duplicate.rs)
tempfile = { workspace = true }

# Additional dependencies required by tests
async-graphql = { workspace = true }
base64 = { workspace = true }
chrono = { workspace = true }
data-encoding = "2.7"
futures = { workspace = true }
hex = "0.4"
rand = { workspace = true }
sea-query = { workspace = true }
subtle = "2.6"
totp-lite = "2.0"
uuid = { workspace = true }
linkme = { workspace = true }
inventory = { workspace = true }
paste = "1.0"
image = { workspace = true }
url = { workspace = true }
rust_decimal = { workspace = true }
async-stream = "0.3"
regex = { workspace = true }
